{% extends "layout/basic.html" %}

{% block content %}

<p>
    {% for d in date_list %}
        {{ d.year }}
    {% endfor %}
</p>

    {% for bb in bbs %}
    <div>
{#        <h2>{{ bb.title }}</h2> #}
        <h2>
            <a href="{% url 'bboard:detail' bb.pk %}">{{ bb.title_and_price }}
        </h2>

        {% filter force_escape|upper| %}
        <p>{{ bb.content }}</p>
        {% endfilter %}

        {# <p><a href="/{{ bb.rubric.pk }}/">{{ bb.rubric.name }}</a></p> #}
<!--        <p><a href="{% url 'bboard:by_rubric' bb.rubric.pk %}">{{ bb.rubric.name }}</a></p>-->
            <p><a href="{% url 'bboard:by_rubric' bb.rubric.pk %}">{{ bb.rubric.name }} ({{ rubric.cnt }})</a></p>
        <p>{{ bb.published|date:"d.m.Y H:i:s" }}</p>
    </div>
    {% endfor %}

    <div>
        {% if page.has_next %}
            <a href="?page={{ page.next_page_number }}"?&gt;></a>
        {% endif %}
    </div>


    <div>
        {% if page.has_previous %}
            <a href="?page={{ page.previous_page_number }}"?&gt;></a>
        {% endif %}
    </div>

        {% if page.has_other_pages %}
            <nav aria-label="paginator">
                <ul class="paginator">

        {% if page.has_previous %}
            <li class="page-item">
                <a class="page-link" href="?page={{ page.previous_page_number ">Назад</a>
            </li>
        {% endif %}
        {% for p in page.paginator.page_range %}
            {% if not p == page.number %}
                <li class="page-item">
                    <a class="page-link" href="?page={{ p }}">{{ p }}</a>
                </li>
            {% else %}
                 <li class="page-item">
                    <a class="page-link disabled bg-primary text-light"
                       href="?page={{ p }}">{{ p }}</a>
                </li>
        {% endif %}
    {% endfor %}


        {% if page.has_next %}
            <li class="page-item">
                <a class="page-link" href="?page={{ page.next_page_number ">Вперед</a>
            </li>
        {% endif %}

{% endblock %}
